{% extends 'base.html' %}
{% block title %}Trip Activities{% endblock %}

{% block body %}
<input type="hidden" id="trip_id" value="{{trip.trip_id}}">

<div class="container">
  <div class="row">
    <h1>{{trip.trip_name}}</h1>
    <h2>{{trip.trip_location}}</h2>
    <h3>{{trip.start_date.date()}} to {{trip.end_date.date()}}</h3>
  </div>

  <div class="row">
    <div class="d-grid gap-2 d-md-block">
      <a href='/trip/{{trip.trip_id}}/itinerary' class="btn btn-primary">Itinerary</a>
      <a href='/trip/{{trip.trip_id}}/activities' class="btn btn-primary">Explore Activities</a>
      <a href='/trip/{{trip.trip_id}}/invite' class="btn btn-primary">Invite Friends</a>
    </div>
  </div>

  <div class="row">
    <a href='/trip/{{trip.trip_id}}/activities/activities' id="activities">See Yelp recommended activities</a>
    <a href='/trip/{{trip.trip_id}}/activities/restaurants' id="restaurants">See Yelp recommended restaurants</a>
    <form action='/trip/{{trip.trip_id}}/activities/search' method="POST">
      <input type="text" name="search-yelp" required>
      <input type="submit" value="Search">
    </form>
  </div>

  <div class="row">
    <div class="col-md-5" id="display-results">
    {% if activities %}
      {% for activity in activities %}
        <div class="card mb-3" style="max-width: 540px;">
          <div class="row g-0">
            <div class="col-md-4 d-flex aline-items-center">
              <img src="{{activity.image_url}}" class="img-fluid rounded-start">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">
                  {{ activity.name }} {{activity.rating}}
                </h5>
                <h6> Category:
                  {% for category in activity.categories %}
                  {{ category.title }}
                  {% endfor %}
                </h6>
                <p class="card-text">
                {% for item in activity.location.display_address %}
                  {{item}}
                {% endfor %}
                <br>
                {{activity.display_phone}}
                </p>
                <p class="card-text">
                  <button class="btn btn-primary add-to-itinerary" value="{{activity.id}}">Add to itinerary</button>
                </p>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    {% endif %}
    </div>

    <div class="col-md-7">
      
    </div>

  </div>
    
</div>

<script src="/static/itinerary.js"></script>
{% endblock %}